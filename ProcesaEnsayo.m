% Separa los datos del vector ensayo en dos vectores: u para la entrada
% e y para la salida. Genera además un vector de tiempo y representa
% gráficamente los datos para ver fácilmente si el ensayo es bueno
% para identificar la planta.

ensayo = [ 
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 50, 320;
 100, 320;
 100, 320;
 100, 320;
 100, 320;
 100, 320;
 100, 320;
 100, 320;
 100, 390;
 100, 405;
 100, 419;
 100, 435;
 100, 449;
 100, 463;
 100, 544;
 100, 557;
 100, 570;
 100, 582;
 100, 593;
 100, 644;
 100, 654;
 100, 664;
 100, 701;
 100, 711;
 100, 720;
 100, 728;
 100, 735;
 100, 742;
 100, 748;
 100, 755;
 100, 759;
 100, 764;
 100, 769;
 100, 775;
 100, 779;
 100, 783;
 100, 787;
 100, 790;
 100, 793;
 100, 796;
 100, 799;
 100, 803;
 100, 804;
 100, 805;
 100, 808;
 100, 823;
 100, 823;
 100, 825;
 100, 825;
 100, 828;
 100, 831;
 100, 831;
 100, 831;
 100, 833;
 100, 835;
 100, 835;
 100, 836;
 100, 836;
 100, 838;
 100, 837;
 100, 838;
 100, 839;
 100, 840;
 100, 840;
 100, 839;
 100, 841;
 100, 840;
 100, 841;
 100, 841;
 100, 843;
 100, 842;
 100, 843;
 100, 843;
 100, 842;
 100, 843;
 100, 843;
 100, 842;
 100, 843;
 100, 843;
 100, 845;
 100, 845;
 100, 844;
 100, 843;
 100, 844;
 100, 844;
 100, 843;
 100, 843;
 100, 845;
 100, 844;
 100, 845;
 100, 844;
 100, 845;
 100, 845;
 100, 843;
 100, 844;
 100, 845;
 100, 845;
 100, 844;
 100, 845;
 100, 845;
 100, 845;
 100, 844;
 100, 844;
 100, 843;
 100, 845;
 100, 844;
 100, 845;
 100, 847;
 100, 845;
 100, 844;
 100, 844;
 100, 845;
 100, 845;
 100, 845;
 100, 845;
 100, 843;
 100, 845;
 100, 844;
 100, 845;
 100, 844;
 100, 847;
 100, 844;
 100, 843;
 100, 845;
 100, 844;
 100, 844;
 100, 844;
 100, 843;
 100, 845;
 100, 844;
 100, 844;
 100, 844;
 100, 845;
 100, 844;
 100, 843;
 100, 843;
 100, 843;
 100, 843;
 100, 843;
 100, 844;
 100, 843;
 100, 844;
 100, 843;
 100, 843;
 100, 843;
 100, 843;
 100, 843;
 100, 844;
 100, 843;
 100, 844;
 100, 844;
 100, 843;
 100, 843;
 100, 843;
 100, 844;
 100, 844;
 100, 843;
 100, 844;
 100, 843;
 100, 843;
 100, 843;
 100, 843;
 100, 844;
 100, 844;
 100, 843;
 100, 843;
 100, 843;
 100, 843;
 100, 843;
 100, 843;
 100, 843;
 100, 843;
 100, 843;
 100, 843;
 100, 843;
 100, 842;
 100, 843;
 100, 843;
 100, 843;
 100, 843;
 100, 843;
 100, 843;
 100, 843;
 100, 843;
 100, 841;
 100, 841;
 100, 843;
 100, 844;
 100, 843;
 100, 842;
 100, 843;
 100, 842;
 100, 842;
 100, 843;
 100, 843;
 100, 843;
 100, 842;
 100, 843;
 100, 841;
 100, 842;
 100, 841;
 100, 842
]

t_s = 0.001; % periodo de muestreo

% Crea el vector de tiempos
tam_vec = size(ensayo);
t = 0:t_s:(tam_vec(1)-1)*t_s;

%Obtiene los vectores de entrada y salida.
u = ensayo(:,1);
y = ensayo(:,2);

% Y los representa gráficamente
plot(t,u,t,y);

% por último elimina el offset de la señal de salida, tal como lo requiere
% el estimador del pidTuner
y_sin_offset = y - y(1);
figure(2);
plot(t,y_sin_offset);